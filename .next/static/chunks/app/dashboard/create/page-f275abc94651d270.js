(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{2926:function(e,t,n){Promise.resolve().then(n.bind(n,5336))},5336:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var a=n(3827),r=n(4090),s=n(7907),l=n(5423),i=n(3619),o=n(5754),c=n(7815),d=n(5179),u=n(9842),m=n(3444),h=n(1983),f=n(3441),p=n(5159),g=n(9259),x=n(1657);let v=h.fC;h.ZA;let b=h.B4,y=r.forwardRef((e,t)=>{let{className:n,children:r,...s}=e;return(0,a.jsxs)(h.xz,{ref:t,className:(0,x.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...s,children:[r,(0,a.jsx)(h.JO,{asChild:!0,children:(0,a.jsx)(f.Z,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=h.xz.displayName;let j=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(h.u_,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})});j.displayName=h.u_.displayName;let w=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(h.$G,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})})});w.displayName=h.$G.displayName;let k=r.forwardRef((e,t)=>{let{className:n,children:r,position:s="popper",...l}=e;return(0,a.jsx)(h.h_,{children:(0,a.jsxs)(h.VY,{ref:t,className:(0,x.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:s,...l,children:[(0,a.jsx)(j,{}),(0,a.jsx)(h.l_,{className:(0,x.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(w,{})]})})});k.displayName=h.VY.displayName,r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(h.__,{ref:t,className:(0,x.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...r})}).displayName=h.__.displayName;let N=r.forwardRef((e,t)=>{let{className:n,children:r,...s}=e;return(0,a.jsxs)(h.ck,{ref:t,className:(0,x.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(h.wU,{children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(h.eT,{children:r})]})});N.displayName=h.ck.displayName,r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(h.Z0,{ref:t,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",n),...r})}).displayName=h.Z0.displayName;var _=n(7788),C=n(9108),I=n(1524),S=n(8994),T=n(8727),F=n(7307),Z=n(9996),E=n(1498);class D{static async isConnected(e){try{return!!await E.d.getConnection(e)}catch(t){return console.error("Error checking ".concat(e," connection:"),t),!1}}static async getConnectionStatus(){try{let e={};for(let t of["facebook","youtube"])e[t]=await D.isConnected(t);return e}catch(e){return console.error("Error getting connection statuses:",e),{facebook:!1,youtube:!1}}}static async publishContent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;try{if(!await D.isConnected(e.platform))throw Error("Not connected to ".concat(e.platform));return console.log("Publishing to ".concat(e.platform,":"),e),console.log("Scheduled: ".concat(t,", Time: ").concat(n||"now")),{success:!0,id:"mock-".concat(e.platform,"-post-").concat(Date.now()),url:"https://".concat(e.platform,".com/post/123456"),scheduledTime:t?n:null}}catch(t){throw console.error("Error publishing to ".concat(e.platform,":"),t),t}}static async getStatistics(){try{return{facebook:{connected:await D.isConnected("facebook"),followers:1250,engagement:3.2,recentPosts:12},youtube:{connected:await D.isConnected("youtube"),subscribers:850,views:12500,recentVideos:8}}}catch(e){return console.error("Error getting statistics:",e),{facebook:{connected:!1},youtube:{connected:!1}}}}}function V(){let e=(0,s.useRouter)(),{toast:t}=(0,_.pm)(),[n,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[j,w]=(0,r.useState)("facebook"),[E,V]=(0,r.useState)("post"),[O,z]=(0,r.useState)(""),[A,R]=(0,r.useState)(""),[G,P]=(0,r.useState)(""),[U,Y]=(0,r.useState)({facebook:!1,youtube:!1});(0,r.useEffect)(()=>{(async()=>{try{let e=await D.getConnectionStatus();Y(e)}catch(e){console.error("Kunde inte h\xe4mta anslutningsstatus:",e)}})()},[]);let q=async()=>{if(!g){t({title:"\xc4mne saknas",description:"V\xe4nligen ange ett \xe4mne f\xf6r inneh\xe5llet.",variant:"destructive"});return}p(!0);try{await new Promise(e=>setTimeout(e,2e3));let e={facebook:{post:"\uD83D\uDCE3 ".concat(g," - Nyheter!\n\nVi \xe4r glada att kunna dela med oss av de senaste nyheterna om ").concat(g,". V\xe5r plattform forts\xe4tter att utvecklas f\xf6r att m\xf6ta era behov.\n\n#").concat(g.replace(/\s+/g,"")," #innovation #socialmedia"),video:"Vill du l\xe4ra dig mer om ".concat(g,"? I denna video g\xe5r vi igenom grunderna och delar med oss av v\xe5ra b\xe4sta tips. Perfekt f\xf6r b\xe5de nyb\xf6rjare och erfarna anv\xe4ndare!\n\nGl\xf6m inte att gilla och dela om du fann detta hj\xe4lpsamt.")},youtube:{post:"\uD83D\uDD25 NYTT: Allt du beh\xf6ver veta om ".concat(g," | Tips & tricks f\xf6r 2025\n\nI denna video guidar vi dig genom allt du beh\xf6ver veta om ").concat(g,". Fr\xe5n grunderna till avancerade tekniker.\n\nTidskoder:\n00:00 Introduktion\n01:30 Grunderna i ").concat(g,"\n05:45 Avancerade tekniker\n10:20 Sammanfattning"),video:"Allt du beh\xf6ver veta om ".concat(g," | Komplett guide 2025\n\nBeskrivning:\nV\xe4lkommen till v\xe5r kompletta guide om ").concat(g,"! I denna video g\xe5r vi igenom allt fr\xe5n grunden till avancerade tekniker som hj\xe4lper dig att lyckas med ").concat(g,".\n\nOm du tycker att denna video var hj\xe4lpsam, gl\xf6m inte att prenumerera och sl\xe5 p\xe5 notifikationer f\xf6r fler videor om ").concat(g," och liknande \xe4mnen.")}}[j][E];z(e);let n="youtube"===j?"".concat(g," - Ultimate Guide"):"".concat(g," - Updates");P(n),await Z.r.createContentSuggestion({title:n,content:e,platform:j,contentType:E}),t({title:"Inneh\xe5ll genererat!",description:"AI har skapat inneh\xe5ll baserat p\xe5 ditt \xe4mne."})}catch(e){console.error("Fel vid generering av inneh\xe5ll:",e),t({title:"Ett fel uppstod",description:"Kunde inte generera inneh\xe5ll. F\xf6rs\xf6k igen senare.",variant:"destructive"})}finally{p(!1)}},K=async function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!O){t({title:"Inget inneh\xe5ll",description:"V\xe4nligen generera inneh\xe5ll f\xf6rst.",variant:"destructive"});return}if(n&&!A){t({title:"Inget datum valt",description:"V\xe4nligen v\xe4lj ett datum f\xf6r schemal\xe4ggning.",variant:"destructive"});return}if(!U[j]){t({title:"Inte ansluten",description:"Du \xe4r inte ansluten till ".concat(j,". G\xe5 till dashboard och anslut ditt konto f\xf6rst."),variant:"destructive"});return}h(!0);try{let a={title:G||"".concat(g," post"),content:O,platform:j,contentType:E};n?(await Z.r.schedulePost({...a,scheduledFor:A,status:"scheduled"}),U[j]&&await D.publishContent(a,!0,A),t({title:"Inl\xe4gg schemalagt!",description:"Ditt inl\xe4gg har schemalagts f\xf6r publicering ".concat(A,".")})):(await D.publishContent(a),t({title:"Inl\xe4gg publicerat!",description:"Ditt inl\xe4gg har publicerats."})),e.push("/dashboard")}catch(e){console.error("Fel vid publicering/schemal\xe4ggning:",e),t({title:"Ett fel uppstod",description:"Kunde inte slutf\xf6ra operationen. F\xf6rs\xf6k igen senare.",variant:"destructive"})}finally{h(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(l.Navbar,{}),(0,a.jsxs)("main",{className:"flex-1 container mx-auto p-6",children:[(0,a.jsxs)(o.z,{variant:"ghost",className:"mb-6",onClick:()=>e.push("/dashboard"),children:[(0,a.jsx)(C.Z,{className:"mr-2 h-4 w-4"}),"Tillbaka till dashboard"]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,a.jsx)("div",{className:"md:w-1/2",children:(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"Skapa inneh\xe5ll med AI"}),(0,a.jsx)(c.SZ,{children:"Beskriv ett \xe4mne s\xe5 genererar AI optimerat inneh\xe5ll f\xf6r dina sociala medier"})]}),(0,a.jsxs)(c.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"platform",children:"Plattform"}),(0,a.jsxs)(v,{value:j,onValueChange:w,children:[(0,a.jsx)(y,{children:(0,a.jsx)(b,{placeholder:"V\xe4lj plattform"})}),(0,a.jsxs)(k,{children:[(0,a.jsxs)(N,{value:"facebook",children:["Facebook ",!U.facebook&&"⚠️"]}),(0,a.jsxs)(N,{value:"youtube",children:["YouTube ",!U.youtube&&"⚠️"]})]})]}),!U[j]&&(0,a.jsxs)("div",{className:"text-xs text-amber-600 flex items-center mt-1",children:[(0,a.jsx)(I.Z,{className:"h-3 w-3 mr-1"}),"Du \xe4r inte ansluten till ",j,". F\xf6r att publicera beh\xf6ver du ansluta i dashboard."]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"contentType",children:"Typ av inneh\xe5ll"}),(0,a.jsxs)(v,{value:E,onValueChange:V,children:[(0,a.jsx)(y,{children:(0,a.jsx)(b,{placeholder:"V\xe4lj inneh\xe5llstyp"})}),(0,a.jsxs)(k,{children:[(0,a.jsx)(N,{value:"post",children:"Inl\xe4gg"}),(0,a.jsx)(N,{value:"video",children:"Videobeskrivning"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"topic",children:"\xc4mne/nyckelord"}),(0,a.jsx)(d.I,{id:"topic",placeholder:"T.ex. digitala marknadsf\xf6ringstips",value:g,onChange:e=>x(e.target.value)})]}),(0,a.jsx)(o.z,{onClick:q,disabled:f||!g,className:"w-full",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Genererar..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{className:"mr-2 h-4 w-4"}),"Generera inneh\xe5ll"]})})]})]})}),(0,a.jsx)("div",{className:"md:w-1/2",children:(0,a.jsxs)(c.Zb,{className:"h-full flex flex-col",children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"F\xf6rhandsgranskning"}),(0,a.jsx)(c.SZ,{children:"Redigera inneh\xe5llet vid behov innan publicering"})]}),(0,a.jsxs)(c.aY,{className:"flex-grow flex flex-col",children:[O&&(0,a.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"title",children:"Titel"}),(0,a.jsx)(d.I,{id:"title",placeholder:"Ange en titel f\xf6r inl\xe4gget",value:G,onChange:e=>P(e.target.value)})]}),(0,a.jsx)(m.g,{placeholder:"Genererat inneh\xe5ll visas h\xe4r...",className:"flex-grow min-h-[200px]",value:O,onChange:e=>z(e.target.value)}),O&&(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"scheduledDate",children:"Schemal\xe4gg publicering (valfritt)"}),(0,a.jsx)(d.I,{id:"scheduledDate",type:"datetime-local",value:A,onChange:e=>R(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o.z,{variant:"outline",className:"flex-1",onClick:()=>K(!0),disabled:n||!A,children:[n?(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(F.Z,{className:"mr-2 h-4 w-4"}),"Schemal\xe4gg"]}),(0,a.jsxs)(o.z,{className:"flex-1",onClick:()=>K(!1),disabled:n,children:[n&&(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Publicera nu"]})]})]})]})]})})]})]}),(0,a.jsx)(i.$,{})]})}},3444:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var a=n(3827),r=n(4090),s=n(1657);let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})});l.displayName="Textarea"},5922:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});let a=(0,n(9377).eI)("https://keebszijifukhvpyfnlc.supabase.co","din_anon_key_h\xe4r")},9996:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});let a=(0,n(9377).eI)("https://keebszijifukhvpyfnlc.supabase.co","din_anon_key_h\xe4r");class r{async createContentSuggestion(e){try{let{data:t,error:n}=await a.from("content_suggestions").insert([{title:e.title,content:e.content,platform:e.platform,content_type:e.contentType}]).select().single();if(n)throw n;return t?{id:t.id,title:t.title,content:t.content,platform:t.platform,contentType:t.content_type,createdAt:t.created_at}:null}catch(e){return console.error("Error creating content suggestion:",e),null}}async schedulePost(e){try{let{data:t,error:n}=await a.from("scheduled_posts").insert([{title:e.title,content:e.content,platform:e.platform,content_type:e.contentType,scheduled_for:e.scheduledFor,status:e.status}]).select().single();if(n)throw n;return t?{id:t.id,title:t.title,content:t.content,platform:t.platform,contentType:t.content_type,scheduledFor:t.scheduled_for,status:t.status,createdAt:t.created_at}:null}catch(e){return console.error("Error scheduling post:",e),null}}}let s=new r},1498:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var a=n(5922);class r{async saveConnection(e){let{data:{user:t}}=await a.O.auth.getUser();if(!t)throw Error("Ingen anv\xe4ndare inloggad");let{error:n}=await a.O.from("platform_connections").upsert({user_id:t.id,platform:e.platform,platform_user_id:e.platformUserId,access_token:e.accessToken,refresh_token:e.refreshToken,updated_at:new Date().toISOString()});if(n)throw n}async getConnection(e){let{data:{user:t}}=await a.O.auth.getUser();if(!t)throw Error("Ingen anv\xe4ndare inloggad");let{data:n,error:r}=await a.O.from("platform_connections").select("*").eq("user_id",t.id).eq("platform",e).single();if(r)throw r;return n}async deleteConnection(e){let{data:{user:t}}=await a.O.auth.getUser();if(!t)throw Error("Ingen anv\xe4ndare inloggad");let{error:n}=await a.O.from("platform_connections").delete().eq("user_id",t.id).eq("platform",e);if(n)throw n}}let s=new r}},function(e){e.O(0,[233,250,682,902,314,217,971,69,744],function(){return e(e.s=2926)}),_N_E=e.O()}]);